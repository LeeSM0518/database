# Chapter 01. Introduction

**데이터베이스 관리 시스템(DBMS)** : 서로 관계있는 데이터들의 모임과 그 데이터에 접근하기 위한 프로그램의 집합

**데이터베이스(database)** : 데이터들의 모임

* **DBMS의 주요 목적**
  * 데이터베이스에 정보 저장
  * 정보를 검색하기 위한 편리하고도 효율적인 환경 제공

<br>

## 데이터베이스 시스템의 목적

컴퓨터에 정보를 저장한다고 할 때, 한 가지 방법은 <u>운영 체제상의 파일 시스템에 저장하는 것이다.</u> 

DBMS가 등장하기 전까지는 <u>파일-처리 시스템(file-processing system)을</u> 통해 정보를 저장하였다.

<br>

#### 파일 처리 시스템에 정보를 저장했을 때의 주요한 단점들

* **데이터의 중복과 비인일관성**
  * 파일들이 서로 다른 형식을 갖게 되기 쉽고 동일한 정보가 여러 파일에 중복 저장될 수 있다.
  * 이러한 중복은 저장 공간의 낭비를 초래하고, 액세스 비용을 늘어나게 한다.
  * 이는 곧 <u>데이터의 비일관성(inconsistency, 동일한 데이터의 여러 사본이 서로 다른 값을 보유하고 있는 상태)</u> 으로 이어진다.
* **데이터 액세스 시의 난점**
  * 필요한 데이터를 편리하고 효율적으로 검색하기가 힘들다.
* **데이터의 고립**
  * 데이터가 여러 파일에 흩어져 있는데다 파일 형식이 서로 다르다.
  * 데이터를 검색하는 프로그램을 새로 작성하기 힘들다.
* **무결성(integrity) 문제**
  * 저장된 데이터 값들은 어떤 형식의 <u>일관성 제약 조건(consistency constraint)들을</u> 만족해야 한다.
* **원자성 문제**
  * 일련의 과정 전체가 수행되든지 아니면 어느 것도 수행되지 않아야 한다.
  * 하지만, 파일-처리 시스템에서는 이러한 원장성을 보장하기가 어렵다.
* **동시 액세스 문제**
  * 동일한 데이터가 여러 사용자에 의해 동시에 갱신될 수 있는데, 이는 데이터의 비일관성을 야기할 수 있다.
* **보안 문제**
  * 데이터베이스 시스템의 모든 사용자가 모든 데이터를 액세스하는 것은 아니다.
  * 파일-처리 시스템에서는 응용 프로그램이 그때그때 바로 추가되므로 이러한 보안에 관한 제약조건을 지키기 어렵다.

<br>

## 데이터의 관점

DBMS는 서로 관련이 있는 파일의 모임과 사용자로 하여금 이 파일들을 액세스하거나 수정하도록 하는 프로그램의 집합이다. 이 시스템의 주요한 목적은 <u>사용자에게 데이터에 관한 추상적인 관점을 제공하는 것이다.</u>

<br>

### 데이터의 추상화

데이터 검색이 효율적으로 이루어져야 하는데, 이러한 목적을 이루기 위해서는 데이터베이스 내의 데이터를 효율적으로 표현하기 위한 여러 가지 복잡한 데이터 구조가 제안되었다.

<br>

* **물리적 단계(physical level)** 
  * 추상화의 최하위 단계
  * 데이터가 실제로 어떻게 저장되는지 기술
  * 데이터 구조들이 상세히 기술된다.
* **논리적 단계(logical level)**
  * 어떤 데이터가 저장되었는지 그리고 데이터들 사이에는 어떤 관계가 있는지를 기술한다.
  * 사용자는 복잡한 구조에 대해 전혀 알 필요가 없다. 이것을 <u>물리적 데이터 독립성(physical data independence)</u> 이라 한다.

* **뷰 단계(view level)**
  * 추상화의 최상위 단계
  * 전체 데이터베이스의 일부분만을 기술한다.

<br>

대부분의 고급 프로그래밍 언어는 레코드형(record type)의 개념을 지원한다.

![image](https://user-images.githubusercontent.com/43431081/85395151-a5ccd400-b58a-11ea-8eae-4cbf98aae8fc.png)

> 위의 코드는 네 개의 필드(field)를 가지는 instructor라는 새로운 레코드를 정의하고 있다.
>
> 각 필드는 고유한 이름과 그에 적당한 형(type)을 가진다.

* 물리적 단계에서 레코드는 연속된 기억 장소에 위치한 하나의 블록 단위로 기술된다.
* 논리적 단계에서 각 레코드는 위의 코드에서처럼 형 정의에 의해 기술된다.
* 뷰 단계에서 컴퓨터 사용자는 데이터형의 상세한 부분을 숨기고 있는 응용 프로그램들을 사용한다.

<br>

### 인스턴스와 스키마

* **인스턴스(instance)** : 어느 특정한 순간에 데이터베이스에 저장되어 있는 정보의 모임

* **스키마(schema)** : 데이터베이스의 전체적인 설계
  * 스키마는 프로그램에서 변수 선언(형 정의)에 대응한다.
  * 어느 순간, 변수에 저장된 값은 데이터베이스 스키마의 인스턴스에 상승한다.

<br>

데이터베이스 시스템에는 추상화의 단계에 따라 여러 개의 스키마가 존재한다.

* **물리적 스키마(physical schema)** : 물리적 단계에서 데이터베이스 설계
* **논리적 스키마(logical schema)** : 논리적 단계에서 데이터베이스 설계
* **서브 스키마(subschema)** : 여러 가지 서로 다른 뷰를 기술하는 뷰 단계의 스키마

<br>

### 데이터 모델

**데이터 모델(data model)** : 데이터, 데이터들 사이의 관계, 데이터의 의미 그리고 일관성 제약조건 등을 기술하기 위한 개념적 표현들의 집합

<br>

데이터 모델은 크게 4개로 분류된다.

* **관계형 모델(Relational Model)**
  * 데이터와 이들 데이터 사이의 관계를 나타내기 위한 테이블들의 모임
  * 각 테이블은 고유한 이름을 가진 여러 개의 열(column)로 구성된다.
  * 테이블은 <u>릴레이션</u> 이라고도 부른다.
  * 레코드-기반 모델의 한 예이다. 몇 개의 형으로 이루어진 <u>고정 형식의 레코드로 구성되기 때문에 레코드-기반 모델이라고도 명명한다.</u>
* **개체-관계 모델(Entity-Relationship Model)**
  * 기본적인 객체들의 집합인 *개체(entity)들과* 이러한 개체들 간의 *관계(relationship)를* 사용한다.
* **객체-기반 데이터 모델(Object-Based Data Model)**
  * E-R 모델에 캡슐화, 메소드(함수) 그리고 객체 아이덴티티의 개념을 더해 E-R 모델을 확장한 것처럼 보인다.
* **반구조형 데이터 모델(Semistructured Data Model)**
  * 같은 형식을 갖고 있으나 다소 다른 속성들을 가진 개별적 데이터 항목들을 기술하기 위한 비정형 데이터 모델
  * <u>확장성 마크업 언어(extensible markup language)인</u> XML은 반-구조형 데이터를 나타내는데 널리 쓰이고 있다.
* **네트워크형 데이터 모델(network data model)**
* **계층형 데이터 모델(hierarchical data model)**

<br>

## 데이터베이스 언어

**데이터 정의 언어(data definition language: DDL)** : 데이터베이스 스키마를 기술하는 언어

**데이터 조작 언어(data manipulation language: DML)** : 데이터베이스 질의 및 갱신을 표현하는 언어

<br>

### 데이터 조작 언어

이 언어는 <u>사용자가 적절한 데이터 모델로 구성된 데이터를 접근하거나 조작할 수 있도록 하는 언어이다.</u>

<br>

**접근 형태**

* 저장된 정보를 검색
* 새로운 정보를 삽입
* 정보 삭제
* 저장된 정보 수정

<br>

기본적으로 두 가지 형태의 DML이 있다.

* **절차식(procedural) DML** : 어떤 데이터가 필요하며 그 데이터를 어떻게 구할지 지정
* **선언적(declartive) DML(비절차식 DML(nonprocedural DML))** : 어떠한 데이터가 필요한지 지정할 것만을 사용자에게 요구

<br>

**질의(query)** : 정보의 검색을 요청하는 문장이다.

**질의어(query language)** : 정보의 검색을 담당하는 부분

> 질의어와 데이터 조작 언어를 같은 의미로 사용하는 것이 보통이다.

<br>

**데이터베이스 시스템의 질의 처리기** : DML 질의를 물리적 단계의 하위 명령으로 변환해 준다.

<br>

### 데이터 정의 언어

데이터베이스 스키마는 데이터 정의 언어(data definition language: DDL)로 표현된 정의들의 집합으로 구체화된다.

DDL은 데이터의 추가적인 특성을 표현하는 데에도 사용된다.

저장 구조(storage structure)와 액세스 방법은 데이터 저장 및 정의 언어(data storage and definition language)라고 하는 특별한 형태의 DDL 문의 집합으로 지정된다.

<br>

데이터베이스 시스템은 최소한의 비용으로 검증될 수 있는 무결성 제약조건을 이행한다.

* **도메인 제약조건(Domain Constraints)**
  * 각각의 도메인들은 값에 대한 제약조건으로서 작용한다.
  * 무결성 제약조건이다.
* **참조 무결성(Referential Integrity)**
  * 주어진 속성들의 집합에 대한 릴레이션의 한 값이 다른 릴레이션에 대한 속성 집합의 값으로 반드시 나타나야 할 경우가 있다.
* **주장(Assertions)**
  * 데이터베이스가 항상 만족시켜주어야 하는 조건이다.
  * 예를 들면 "모든 학과는 매 학기에 최소 다섯 개의 수업을 개설해야만 한다"는 주장으로 표현
* **권한(Authorization)**
  * 사용자들마다 접근을 다르게 하고 싶을 때 이러한 차별을 일반적으로 권한이라 표현한다,
  * 읽기 권한, 삽입 권한, 갱신 권한, 삭제 권한

<br>

DDL은 명령문(statements)을 입력으로 받아 결과를 생성한다.

DDL의 결과는 <u>메타데이터(metadata)를</u> 수록하는 <u>데이터 사전(data dictionary)에</u> 위치한다.

데이터베이스 시스템이 실제 데이터를 읽거나 갱신할 때에는 데이터 사전을 참조하여 작업을 수행한다.

<br>

## 관계형 데이터베이스

관계형 데이터베이스는 관계형 모델에 기반하며 데이터와 데이터들의 관계를 나타내기 위해 테이블들의 집합을 사용한다.

<br>

### 테이블

각 테이블은 고유한 이름을 가진 여러 개의 열(column)로 구성된다.

